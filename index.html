<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CCNA certification training app with offline quizzes, subnetting challenges, CLI labs, and network simulations">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#064e4f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CCNA Trainer">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/icons/favicon-32.png" sizes="32x32">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-192.png">
  <link rel="preload" href="/style.css" as="style">
  <link rel="preload" href="/script.js" as="script">
  <link rel="stylesheet" href="/style.css" media="print" onload="this.media='all'">
  <title>CCNA Trainer ‚Äî Offline Network Certification Training</title>
  <script>
    // Critical FOUC prevention
    document.documentElement.classList.add('js-enabled');
    // Service worker registration
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .catch(console.error);
      });
    }
  </script>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <div id="app" class="app">
    <header class="topbar" role="banner">
      <div class="brand">
        <h1>CCNA Trainer</h1>
        <p class="app-status">
          <span class="status-badge offline">Offline</span>
          <span class="status-badge updated">Updated: <time datetime="2025-11-13">Today</time></span>
        </p>
      </div>
      <div class="actions" role="toolbar" aria-label="App controls">
        <button id="installBtn" class="btn install-prompt hidden" aria-label="Install app">‚Üì Install</button>
        <button id="resetBtn" class="btn ghost" aria-label="Reset progress">‚ü≥ Reset</button>
        <button id="themeToggle" class="btn ghost" aria-label="Toggle dark mode">üåì</button>
      </div>
    </header>

    <main id="main-content" class="main" role="main">
      <!-- Menu Section -->
      <section id="menu" class="panel" aria-labelledby="menu-heading">
        <h2 id="menu-heading">Training Modules</h2>
        <div class="grid" role="grid">
          <button class="mode-btn" data-mode="quiz" role="gridcell">
            <span class="mode-icon">‚ùì</span>
            <span>Quizzes</span>
          </button>
          <button class="mode-btn" data-mode="subnet" role="gridcell">
            <span class="mode-icon">üìç</span>
            <span>Subnetting</span>
          </button>
          <button class="mode-btn" data-mode="labs" role="gridcell">
            <span class="mode-icon">üíª</span>
            <span>CLI Labs</span>
          </button>
          <button class="mode-btn" data-mode="drag" role="gridcell">
            <span class="mode-icon">‚ÜîÔ∏è</span>
            <span>Drag & Drop</span>
          </button>
          <button class="mode-btn" data-mode="sim" role="gridcell">
            <span class="mode-icon">üîÑ</span>
            <span>Simulations</span>
          </button>
          <button class="mode-btn" data-mode="trbl" role="gridcell">
            <span class="mode-icon">üîß</span>
            <span>Troubleshooting</span>
          </button>
        </div>

        <div class="menu-stats-grid" aria-label="Training statistics">
          <div class="stat-card">
            <small aria-hidden="true">‚úì</small>
            <div>
              <span class="stat-label">Completed</span>
              <span id="completedCount" class="stat-value">0</span>
            </div>
          </div>
          <div class="stat-card">
            <small aria-hidden="true">‚è±Ô∏è</small>
            <div>
              <span class="stat-label">Study Time</span>
              <span id="studyTime" class="stat-value">0:00</span>
            </div>
          </div>
          <div class="stat-card">
            <small aria-hidden="true">üîä</small>
            <div>
              <span class="stat-label">Audio</span>
              <span id="audioState" class="stat-value active">On</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Quiz Section -->
      <section id="quiz" class="panel hidden" aria-labelledby="quiz-heading" aria-live="polite">
        <div class="panel-header">
          <button class="back" aria-label="Return to menu">‚Üê Menu</button>
          <h2 id="quiz-heading">Quiz Mode</h2>
          <div class="timer" aria-label="Elapsed time">‚è±Ô∏è <span id="quizTimer">00:00</span></div>
        </div>

        <div class="card">
          <div id="quizQ" class="question" aria-live="assertive"></div>
          <div id="quizOpts" class="opts" role="radiogroup"></div>
          <div id="quizExplain" class="explain hidden" role="status"></div>
        </div>

        <div class="panel-controls">
          <button class="btn" aria-label="Skip question">‚è≠Ô∏è Skip</button>
          <button class="btn ghost" aria-label="End quiz session">‚èπÔ∏è End Quiz</button>
        </div>
      </section>

      <!-- Subnetting Section -->
      <section id="subnet" class="panel hidden" aria-labelledby="subnet-heading">
        <div class="panel-header">
          <button class="back" aria-label="Return to menu">‚Üê Menu</button>
          <h2 id="subnet-heading">Subnetting Challenges</h2>
        </div>

        <div class="card">
          <div id="subnetQ" class="question"></div>
          <label for="subnetAns" class="visually-hidden">Subnet answer</label>
          <input id="subnetAns" type="text" class="input" placeholder="e.g., 255.255.255.192" aria-required="true">
          <div class="panel-controls">
            <button class="btn" aria-label="Check answer">‚úì Check</button>
            <button class="btn ghost" aria-label="Next challenge">‚Üí Next</button>
          </div>
          <div id="subnetFeedback" class="explain hidden" role="alert"></div>
        </div>
      </section>

      <!-- CLI Labs Section -->
      <section id="labs" class="panel hidden" aria-labelledby="labs-heading">
        <div class="panel-header">
          <button class="back" aria-label="Return to menu">‚Üê Menu</button>
          <h2 id="labs-heading">CLI Lab Environment</h2>
        </div>

        <div class="card">
          <div id="labScenario" class="question"></div>
          <div class="terminal-container">
            <div class="terminal-header">
              <span class="terminal-title">Router> enable</span>
              <button class="terminal-btn" aria-label="Copy terminal output">‚ßâ</button>
            </div>
            <div id="terminal" class="terminal" aria-live="polite" aria-relevant="additions"></div>
          </div>
          
          <label for="cliInput" class="visually-hidden">CLI command input</label>
          <textarea id="cliInput" class="textarea" placeholder="Enter commands (e.g., 'show ip interface brief')"></textarea>
          
          <div class="panel-controls">
            <button class="btn" aria-label="Execute command">‚èé Run</button>
            <button class="btn ghost" aria-label="Clear terminal">‚åß Clear</button>
            <button class="btn" aria-label="Verify solution">‚úì Verify</button>
            <button class="btn ghost" aria-label="View lab hints">üí° Hint</button>
          </div>
          
          <div id="labFeedback" class="explain hidden" role="status"></div>
        </div>
      </section>

      <!-- Other sections follow similar accessibility patterns -->
      <section id="drag" class="panel hidden" aria-labelledby="drag-heading"><!-- ... --></section>
      <section id="sim" class="panel hidden" aria-labelledby="sim-heading"><!-- ... --></section>
      <section id="trbl" class="panel hidden" aria-labelledby="trbl-heading"><!-- ... --></section>
    </main>

    <footer class="footer" role="contentinfo">
      <div class="footer-content">
        <p>CCNA Trainer v2.1 ‚Ä¢ Offline PWA ‚Ä¢ <span id="lastSync">Last sync: Today</span></p>
        <p class="copyright">¬© 2025 Network Training Platform ‚Ä¢ <a href="/privacy.html">Privacy</a></p>
      </div>
    </footer>
  </div>

  <!-- Audio System with proper fallbacks -->
  <div class="audio-system" hidden>
    <audio id="sClick" preload="auto">
      <source src="/audio/click.ogg" type="audio/ogg">
      <source src="/audio/click.mp3" type="audio/mpeg">
    </audio>
    <audio id="sCorrect" preload="auto">
      <source src="/audio/correct.ogg" type="audio/ogg">
      <source src="/audio/correct.mp3" type="audio/mpeg">
    </audio>
    <audio id="sWrong" preload="auto">
      <source src="/audio/wrong.ogg" type="audio/ogg">
      <source src="/audio/wrong.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgMusic" preload="none" loop>
      <source src="/audio/ambient-study.mp3" type="audio/mpeg">
      <track kind="captions" src="/audio/music-description.vtt">
    </audio>
  </div>

  <script src="/script.js" defer></script>
  <script>
    // Performance optimization: Defer non-critical assets
    document.addEventListener('DOMContentLoaded', () => {
      // Initialize app after critical content loads
      window.app = new CCNATrainer();
    });
  </script>
</body>
</html>
